import{R as o,e as x,r as h,j as i}from"./index-CWlqgBx2.js";import{o as b}from"./api-CAnWjZpO.js";import"./index-NIGUFBhG.js";var j={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v=o.createContext&&o.createContext(j),y=["attr","size","title"];function O(e,t){if(e==null)return{};var r=N(e,t),n,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(n){P(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P(e,t,r){return t=w(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=E(e,"string");return typeof t=="symbol"?t:t+""}function E(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p(e){return e&&e.map((t,r)=>o.createElement(t.tag,m({key:r},t.attr),p(t.child)))}function C(e){return t=>o.createElement(S,f({attr:m({},e.attr)},t),p(e.child))}function S(e){var t=r=>{var{attr:n,size:a,title:c}=e,u=O(e,y),l=a||r.size||"1em",s;return r.className&&(s=r.className),e.className&&(s=(s?s+" ":"")+e.className),o.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,u,{className:s,style:m(m({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),c&&o.createElement("title",null,c),e.children)};return v!==void 0?o.createElement(v.Consumer,null,r=>t(r)):t(j)}function D(e){return C({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(e)}const L=()=>{var u,l;const{id:e}=x(),[t,r]=h.useState(null),[n,a]=h.useState("info");if(h.useEffect(()=>{(async()=>{try{const d=await b(e);r(d.data)}catch(d){console.error("Error fetching patient:",d)}})()},[e]),!t)return i.jsx("p",{className:"loading",children:"Loading patient profile..."});const c=((u=t.visits)==null?void 0:u.map(s=>({date:s.date,diagnosis:s.diagnosis})))||[];return i.jsxs("div",{className:"profile-container",children:[i.jsxs("div",{className:"profile-header",children:[i.jsx(D,{className:"profile-icon"}),i.jsxs("div",{children:[i.jsx("h2",{children:t.name}),i.jsxs("p",{className:"latest-diagnosis",children:[((l=c[0])==null?void 0:l.diagnosis)||"—"," – Latest diagnosis"]})]}),i.jsx("div",{className:"action-buttons",children:i.jsx("button",{className:"add-button",children:"➕ Add New"})})]}),i.jsxs("div",{className:"tab-buttons",children:[i.jsx("button",{className:n==="info"?"active":"",onClick:()=>a("info"),children:"Patient Info"}),i.jsx("button",{className:n==="visits"?"active":"",onClick:()=>a("visits"),children:"Visits"})]}),n==="info"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{children:"General Information"}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Phone:"})," ",t.phone]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Age:"})," ",t.age]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Gender:"})," ",t.gender]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Address:"})," ",t.address]})]})]}),n==="visits"&&i.jsxs("div",{className:"visit-history-section",children:[i.jsx("h3",{className:"section-title",children:"🗓️ Visit History"}),t.visits.length===0?i.jsx("p",{children:"No visits recorded."}):i.jsx("div",{className:"visit-cards",children:t.visits.map((s,d)=>i.jsxs("div",{className:"visit-card",children:[i.jsx("div",{className:"visit-date",children:new Date(s.date).toLocaleDateString()}),i.jsxs("div",{className:"visit-details",children:[i.jsx("strong",{children:s.diagnosis||"No Diagnosis"}),i.jsx("p",{children:s.notes||"No notes available."})]})]},d))})]})]})};export{L as default};
