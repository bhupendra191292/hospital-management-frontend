import{u as b,r as t,j as e}from"./index-CWlqgBx2.js";import{h as w}from"./MedicalRecordsModal-Cxk0sOBw.js";import{B as g}from"./Button-d_DNOqu3.js";import"./index-NIGUFBhG.js";const S=()=>{const c=b(),[a,m]=t.useState({name:"",phone:"",email:"",password:"",confirmPassword:"",specialization:"",qualification:"",experience:"",consultationFee:"",availableDays:[]}),[i,d]=t.useState({}),[p,h]=t.useState(!1),[u,x]=t.useState(""),f=["Cardiology","Neurology","Orthopedics","Pediatrics","Dermatology","Gynecology","General Medicine","Surgery","Psychiatry","Radiology","Anesthesiology","Emergency Medicine","Internal Medicine","Oncology","Ophthalmology","ENT","Urology","Gastroenterology","Endocrinology","Pulmonology","Nephrology","Rheumatology","Hematology","Infectious Disease"],j=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],n=s=>{const{name:r,value:l}=s.target;m(o=>({...o,[r]:l})),i[r]&&d(o=>({...o,[r]:""}))},v=s=>{m(r=>({...r,availableDays:r.availableDays.includes(s)?r.availableDays.filter(l=>l!==s):[...r.availableDays,s]}))},y=()=>{const s={};return a.name.trim()||(s.name="Full name is required"),a.phone.trim()?/^[0-9]{10}$/.test(a.phone.replace(/\D/g,""))||(s.phone="Please enter a valid 10-digit phone number"):s.phone="Phone number is required",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(s.email="Please enter a valid email address"):s.email="Email is required",a.password.trim()?a.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",a.password!==a.confirmPassword&&(s.confirmPassword="Passwords do not match"),a.specialization||(s.specialization="Specialization is required"),a.qualification.trim()||(s.qualification="Qualification is required"),a.experience.trim()?(isNaN(a.experience)||parseInt(a.experience)<0)&&(s.experience="Please enter a valid experience in years"):s.experience="Experience is required",a.consultationFee.trim()?(isNaN(a.consultationFee)||parseInt(a.consultationFee)<0)&&(s.consultationFee="Please enter a valid consultation fee"):s.consultationFee="Consultation fee is required",a.availableDays.length===0&&(s.availableDays="Please select at least one available day"),d(s),Object.keys(s).length===0},N=async s=>{var r,l;if(s.preventDefault(),!!y()){h(!0),x("");try{const o={name:a.name.trim(),phone:a.phone.replace(/\D/g,""),email:a.email.trim(),password:a.password,specialization:a.specialization,qualification:a.qualification.trim(),experience:parseInt(a.experience),consultationFee:parseInt(a.consultationFee),availableDays:a.availableDays,status:"pending"};(await w(o)).data.success&&(alert("Registration successful! Your account is pending admin approval. You will receive an email once approved."),c("/login"))}catch(o){console.error("Registration error:",o),x(((l=(r=o.response)==null?void 0:r.data)==null?void 0:l.message)||"Registration failed. Please try again.")}finally{h(!1)}}};return e.jsx("div",{className:"doctor-registration-page",children:e.jsxs("div",{className:"registration-container",children:[e.jsxs("div",{className:"registration-header",children:[e.jsx("h1",{children:"👨‍⚕️ Doctor Registration"}),e.jsx("p",{children:"Join our medical team and start serving patients"})]}),e.jsxs("form",{onSubmit:N,className:"registration-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Personal Information"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:n,placeholder:"Dr. John Smith",className:i.name?"error":""}),i.name&&e.jsx("span",{className:"error-message",children:i.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number *"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:n,placeholder:"9876543210",className:i.phone?"error":""}),i.phone&&e.jsx("span",{className:"error-message",children:i.phone})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:n,placeholder:"doctor@example.com",className:i.email?"error":""}),i.email&&e.jsx("span",{className:"error-message",children:i.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"specialization",children:"Specialization *"}),e.jsxs("select",{id:"specialization",name:"specialization",value:a.specialization,onChange:n,className:i.specialization?"error":"",children:[e.jsx("option",{value:"",children:"Select Specialization"}),f.map(s=>e.jsx("option",{value:s,children:s},s))]}),i.specialization&&e.jsx("span",{className:"error-message",children:i.specialization})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Professional Information"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"qualification",children:"Qualification *"}),e.jsx("input",{type:"text",id:"qualification",name:"qualification",value:a.qualification,onChange:n,placeholder:"MBBS, MD",className:i.qualification?"error":""}),i.qualification&&e.jsx("span",{className:"error-message",children:i.qualification})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"experience",children:"Experience (Years) *"}),e.jsx("input",{type:"number",id:"experience",name:"experience",value:a.experience,onChange:n,placeholder:"5",min:"0",max:"50",className:i.experience?"error":""}),i.experience&&e.jsx("span",{className:"error-message",children:i.experience})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"consultationFee",children:"Consultation Fee (₹) *"}),e.jsx("input",{type:"number",id:"consultationFee",name:"consultationFee",value:a.consultationFee,onChange:n,placeholder:"500",min:"0",className:i.consultationFee?"error":""}),i.consultationFee&&e.jsx("span",{className:"error-message",children:i.consultationFee})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Account Security"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password *"}),e.jsx("input",{type:"password",id:"password",name:"password",value:a.password,onChange:n,placeholder:"Minimum 6 characters",className:i.password?"error":""}),i.password&&e.jsx("span",{className:"error-message",children:i.password})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:n,placeholder:"Confirm your password",className:i.confirmPassword?"error":""}),i.confirmPassword&&e.jsx("span",{className:"error-message",children:i.confirmPassword})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Availability"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Available Days *"}),e.jsx("div",{className:"days-grid",children:j.map(s=>e.jsxs("label",{className:"day-checkbox",children:[e.jsx("input",{type:"checkbox",checked:a.availableDays.includes(s),onChange:()=>v(s)}),e.jsx("span",{children:s})]},s))}),i.availableDays&&e.jsx("span",{className:"error-message",children:i.availableDays})]})]}),u&&e.jsxs("div",{className:"submit-error",children:[e.jsx("span",{className:"error-icon",children:"⚠️"}),u]}),e.jsxs("div",{className:"form-actions",children:[e.jsx(g,{type:"submit",variant:"primary",size:"large",disabled:p,className:"submit-button",children:p?"Registering...":"Register as Doctor"}),e.jsx(g,{type:"button",variant:"default",size:"large",onClick:()=>c("/login"),className:"cancel-button",children:"Back to Login"})]})]}),e.jsx("div",{className:"registration-footer",children:e.jsxs("p",{children:["Already have an account?",e.jsx("button",{type:"button",onClick:()=>c("/login"),className:"login-link",children:"Login here"})]})})]})})};export{S as default};
